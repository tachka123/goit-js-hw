{"version":3,"sources":["webpack:///./js/fetchWeather.js","webpack:///./js/showWeather.js","webpack:///./js/getGeoPosition.js","webpack:///./js/weatherByCity.js","webpack:///./index.js"],"names":["getWeatherByCords","long","lat","fetch","options","searchForm","getWeather","inputWeather","weather","console","log","location","document","querySelector","temperature","Humidity","Wind","Conditions","textContent","currently","humidity","Math","round","windSpeed","summary","timezone","maximumAge","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","then","result","loading","style","display","fetchWeather","coords","latitude","longitude","json","showWeather","catch","PNotify","error","getElementById","addEventListener","e","preventDefault","cityName","value","lon"],"mappings":"iKAAe,SAASA,EAAkBC,EAAMC,GAC9C,OAAOC,MAAM,yGAC8FF,EAD/F,IACuGC,GCFtG,ICCPE,ECIAC,EACAC,EACAC,EFPO,WAASC,GACtBC,QAAQC,IAAIF,GACZ,IAAMG,EAAWC,SAASC,cAAc,2BAClCC,EAAcF,SAASC,cAAc,uBACrCE,EAAWH,SAASC,cAAc,2BAClCG,EAAOJ,SAASC,cAAc,uBAC9BI,EAAaL,SAASC,cAAc,6BAC1CE,EAASG,YAAcV,EAAQW,UAAUC,SACzCN,EAAYI,YAAcG,KAAKC,MACW,GAAtCd,EAAQW,UAAUL,YAAc,IAAW,GAE/CE,EAAKE,YAAcG,KAAKC,MAAoC,SAA9Bd,EAAQW,UAAUI,WAChDN,EAAWC,YAAcV,EAAQW,UAAUK,QAC3Cb,EAASO,YAAcV,EAAQiB,U,aCZzBrB,EAAU,CACdsB,WAAY,KAEP,IAAIC,SAAQ,SAACC,EAASC,GAC3B,OAAOC,UAAUC,YAAYC,mBAAmBJ,EAASC,EAAQzB,OEIlE6B,MAOH,SAAyBC,GACvB,IAAMC,EAAUvB,SAASC,cAAc,YACvCsB,EAAQC,MAAMC,QAAU,OACxBC,EAAaJ,EAAOK,OAAOC,SAAUN,EAAOK,OAAOE,WAChDR,MAAK,SAAAC,GAAM,OAAIA,EAAOQ,UACtBT,MAAK,SAAAC,GACJC,EAAQC,MAAMC,QAAU,OACxBM,EAAYT,SAbfU,OAEH,WACEC,IAAQC,MAAM,uDDRRzC,EAAaO,SAASmC,eAAe,eACrCzC,EAAaD,EAAWQ,cAAc,UACtCN,EAAeF,EAAWQ,cAAc,SAC9CP,EAAW0C,iBAAiB,SAAS,SAAAC,GACnCA,EAAEC,iBACF,IAAMC,EAAW5C,EAAa6C,MACxBjB,EAAUvB,SAASC,cAAc,YACvCsB,EAAQC,MAAMC,QAAU,OACLlC,MAAM,iEAC0CgD,EAD3C,gBAGrBlB,MAAK,SAAAC,GAAM,OAAIA,EAAOQ,UACtBT,MAAK,SAAAC,GAAM,OAAIA,EAAO,MAEtBD,MAAK,SAAAC,GAAM,OAAII,EAAaJ,EAAOhC,IAAKgC,EAAOmB,QAC/CpB,MAAK,SAAAC,GAAM,OAAIA,EAAOQ,UACtBT,MAAK,SAAAC,GACJS,EAAYT,GACZC,EAAQC,MAAMC,QAAU,UAEzBO,OAAM,SAAAE,GACLX,EAAQC,MAAMC,QAAU,OACxBQ,IAAQC,MAAM,sD","file":"main.677dc357e30554ab1342.js","sourcesContent":["export default function getWeatherByCords(long, lat) {\n  return fetch(\n    `https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/b715457808493e49927c694168fcb19d/${long},${lat}`,\n  );\n}\n","export default function(weather) {\n  console.log(weather);\n  const location = document.querySelector('[data-field=\"location\"]');\n  const temperature = document.querySelector('[data-field=\"temp\"]');\n  const Humidity = document.querySelector('[data-field=\"humidity\"]');\n  const Wind = document.querySelector('[data-field=\"wind\"]');\n  const Conditions = document.querySelector('[data-field=\"conditions\"]');\n  Humidity.textContent = weather.currently.humidity;\n  temperature.textContent = Math.round(\n    ((weather.currently.temperature - 32) * 5) / 9,\n  );\n  Wind.textContent = Math.round(weather.currently.windSpeed * 1.609344);\n  Conditions.textContent = weather.currently.summary;\n  location.textContent = weather.timezone;\n}\n","export default function GetCurrentLocation() {\n  const options = {\n    maximumAge: 60000,\n  };\n  return new Promise((resolve, reject) => {\n    return navigator.geolocation.getCurrentPosition(resolve, reject, options);\n  });\n}\n","import fetchWeather from './fetchWeather';\nimport showWeather from './showWeather';\nimport PNotify from 'pnotify/dist/es/PNotify';\n\nexport default function() {\n  const searchForm = document.getElementById('search-form');\n  const getWeather = searchForm.querySelector('button');\n  const inputWeather = searchForm.querySelector('input');\n  getWeather.addEventListener('click', e => {\n    e.preventDefault();\n    const cityName = inputWeather.value;\n    const loading = document.querySelector('.loading');\n    loading.style.display = 'flex';\n    const cityTarget = fetch(\n      `https://eu1.locationiq.com/v1/search.php?key=9c8bd24f982849&q=${cityName}&format=json`,\n    )\n      .then(result => result.json())\n      .then(result => result[0]);\n    cityTarget\n      .then(result => fetchWeather(result.lat, result.lon))\n      .then(result => result.json())\n      .then(result => {\n        showWeather(result);\n        loading.style.display = 'none';\n      })\n      .catch(error => {\n        loading.style.display = 'none';\n        PNotify.error('Can`t find inputed city! Please, try again');\n      });\n  });\n}\n","import './styles.css';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\nimport getCurrentLocation from './js/getGeoPosition';\nimport fetchWeather from './js/fetchWeather';\nimport showWeather from './js/showWeather';\nimport weatherByCity from './js/weatherByCity';\nimport PNotify from 'pnotify/dist/es/PNotify';\n\ngetCurrentLocation()\n  .then(onGetPosSuccess)\n  .catch(onGetPosError);\n\nfunction onGetPosError() {\n  PNotify.error('No location permissions, use search by city name');\n}\n\nfunction onGetPosSuccess(result) {\n  const loading = document.querySelector('.loading');\n  loading.style.display = 'flex';\n  fetchWeather(result.coords.latitude, result.coords.longitude)\n    .then(result => result.json())\n    .then(result => {\n      loading.style.display = 'none';\n      showWeather(result);\n    });\n}\n\nweatherByCity();\n"],"sourceRoot":""}