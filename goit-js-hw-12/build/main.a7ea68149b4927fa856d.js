(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("L1EO"),n("UOjr"),n("JBxO"),n("FdtR");function r(t,e){return fetch("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/b715457808493e49927c694168fcb19d/"+t+","+e)}n("Muwe"),n("aZFp"),n("wcNg");function o(t,e,n,r,o,i,c){try{var u=t[i](c),a=u.value}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(r,o)}var i=function(t,e){return c.apply(this,arguments)};function c(){var t;return t=regeneratorRuntime.mark((function t(e,n){var r,o,i,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return t.next=3,fetch("https://us1.locationiq.com/v1/reverse.php?key=9c8bd24f982849&lat="+e.latitude+"&lon="+e.longitude+"&format=json").then((function(t){return t.json()})).then((function(t){n=(n=t.display_name.split(","))[1]+","+n[2]+","+n[3]+","+n[4]}));case 3:r=document.querySelector('[data-field="location"]'),o=document.querySelector('[data-field="temp"]'),i=document.querySelector('[data-field="humidity"]'),c=document.querySelector('[data-field="wind"]'),u=document.querySelector('[data-field="conditions"]'),i.textContent=e.currently.humidity,o.textContent=Math.round(5*(e.currently.temperature-32)/9),c.textContent=Math.round(1.609344*e.currently.windSpeed),u.textContent=e.currently.summary,r.textContent=n;case 13:case"end":return t.stop()}}),t)})),(c=function(){var e=this,n=arguments;return new Promise((function(r,i){var c=t.apply(e,n);function u(t){o(c,r,i,u,a,"next",t)}function a(t){o(c,r,i,u,a,"throw",t)}u(void 0)}))}).apply(this,arguments)}var u,a,s,l,d,f=n("dIfx");(u={maximumAge:6e4},new Promise((function(t,e){return navigator.geolocation.getCurrentPosition(t,e,u)}))).then((function(t){var e=document.querySelector(".loading");e.style.display="flex",r(t.coords.latitude,t.coords.longitude).then((function(t){return t.json()})).then((function(t){e.style.display="none",i(t)}))})).catch((function(){f.a.error("No location permissions, use search by city name")})),s=document.getElementById("search-form"),l=s.querySelector("button"),d=s.querySelector("input"),l.addEventListener("click",(function(t){t.preventDefault();var e=d.value,n=document.querySelector(".loading");n.style.display="flex",fetch("https://eu1.locationiq.com/v1/search.php?key=9c8bd24f982849&q="+e+"&format=json").then((function(t){return t.json()})).then((function(t){return a=t[0].display_name.split(",")[0],t[0]})).then((function(t){return r(t.lat,t.lon)})).then((function(t){return t.json()})).then((function(t){i(t,a),n.style.display="none"})).catch((function(t){n.style.display="none",f.a.error("Can`t find inputed city! Please, try again")}))}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.a7ea68149b4927fa856d.js.map